<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>くじ引きゲーム</title>
<style>
:root{
  --accent:#ff6;
}
body{
  margin:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
  background:linear-gradient(135deg,#aee,#fdd);
  overflow:hidden;
  font-family:sans-serif;
}

/* 透明なボックス */
.box{
  position:relative;
  width:280px;
  height:200px;
  border:3px solid rgba(255,255,255,0.7);
  background:rgba(255,255,255,0.25);
  backdrop-filter:blur(8px);
  border-radius:16px;
  box-shadow:inset 0 0 20px rgba(0,0,0,0.2);
  overflow:hidden;
}

/* カード */
.card{
  position:absolute;
  width:80px;
  height:100px;
  background:white;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  color:#333;
  box-shadow:0 4px 8px rgba(0,0,0,0.2);
  transition:transform 1s ease, top 1s ease, left 1s ease;
  z-index:1;
}
.card.lift{
  z-index:10;
  transform:translateY(-250px) rotate(0deg);
}

/* 紐 */
.string{
  position:absolute;
  top:-250px;
  left:50%;
  transform:translateX(-50%);
  width:4px;
  height:250px;
  background:repeating-linear-gradient(
    to bottom,
    #fff,
    #ccc 8px,
    #999 16px
  );
  border-radius:4px;
  z-index:5;
  transition:height 1s ease;
}

/* 先端のつまみ */
.handle{
  position:absolute;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  background:#fff;
  border:2px solid var(--accent);
  padding:6px 12px;
  border-radius:12px;
  cursor:pointer;
  font-size:14px;
  z-index:6;
}
</style>
</head>
<body>

<div class="box" id="box">
  <div class="string" id="string"></div>
  <div class="handle" id="handle">Pull!</div>
</div>

<script>
const box = document.getElementById("box");
const handle = document.getElementById("handle");
const string = document.getElementById("string");

const prizes = ["🍫","🍭","🥤","🎁","🍪","🍊"];
let cards = [];

// カードをランダム配置
function setupCards(){
  prizes.forEach((p,i)=>{
    let card = document.createElement("div");
    card.className = "card";
    card.textContent = p;
    // ランダム位置
    let top = Math.random()*100+50; // 50〜150
    let left = Math.random()*180+20; // 20〜200
    let rot = Math.random()*40-20;
    card.style.top = top+"px";
    card.style.left = left+"px";
    card.style.transform = `rotate(${rot}deg)`;
    box.appendChild(card);
    cards.push(card);
  });
}

// 紐を引く
handle.addEventListener("click",()=>{
  if(cards.length===0) return;
  let pick = cards[Math.floor(Math.random()*cards.length)];
  pick.classList.add("lift");
  // 紐をそのカード位置に
  let rect = pick.getBoundingClientRect();
  let boxRect = box.getBoundingClientRect();
  let centerX = rect.left + rect.width/2 - boxRect.left;
  string.style.left = centerX+"px";
});

setupCards();
</script>

</body>
</html>
